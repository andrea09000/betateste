<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spottly App - Prova Prima di Tutti</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyBRfwcnmN8FopdoTSmtea4Gn_IGqGZrJso",
            authDomain: "betatest-ed972.firebaseapp.com",
            projectId: "betatest-ed972",
            storageBucket: "betatest-ed972.firebasestorage.app",
            messagingSenderId: "678334508424",
            appId: "1:678334508424:web:b73bfda4a25a4e98acde3d"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        window.db = db;
        window.collection = collection;
        window.addDoc = addDoc;
    </script>
</head>
<body>
    <div class="bg-gradient"></div>
    <div class="floating-orb orb-1"></div>
    <div class="floating-orb orb-2"></div>
    <div class="grain"></div>

    <div class="container">
        <header>
            <nav class="nav">
                <div class="logo-container">
                    <img src="logo.png" alt="Logo" class="logo-icon">
                    <div class="logo-text">Spottly<span>App</span></div>
                </div>
                <div class="nav-badge">Versione<span>0.1</span></div>
            </nav>
        </header>

        <main class="hero">
            <div class="hero-badge">
                üöÄ Accesso anticipato disponibile
            </div>
            
            <h1>
                Prova il<br>
                <span class="gradient-text">Futuro</span> Degli spotted oggi
            </h1>
            
            <p>
                Unisciti alla community esclusiva di beta tester. 
                Testa le nuove funzionalit√† prima di tutti e aiutaci a creare qualcosa di straordinario.
            </p>

            <div class="cta-container">
                <form id="betaForm" class="beta-form">
                    <div class="form-group">
                        <input type="email" id="email" placeholder="La tua email" required>
                    </div>
                    <div class="form-group">
                        <div class="device-selector">
                            <input type="radio" id="android" name="device" value="android" required>
                            <label for="android" class="device-option">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M17.523 15.341c-.5 0-.91.41-.91.91s.41.91.91.91.91-.41.91-.91-.41-.91-.91-.91zm-11.046 0c-.5 0-.91.41-.91.91s.41.91.91.91.91-.41.91-.91-.41-.91-.91-.91zm11.405-6.02l1.996-3.46c.111-.192.045-.437-.148-.548-.192-.111-.437-.045-.548.148l-2.023 3.51c-1.551-.708-3.29-1.102-5.159-1.102s-3.608.394-5.159 1.102L4.818 5.461c-.111-.193-.356-.26-.548-.148-.193.111-.26.356-.148.548l1.996 3.46C2.688 11.196.5 14.531.5 18.341h23c0-3.81-2.188-7.145-5.618-9.02z"/>
                                </svg>
                                Android
                            </label>
                            <input type="radio" id="iphone" name="device" value="iphone">
                            <label for="iphone" class="device-option">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
                                </svg>
                                iPhone
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="cta-button">
                        <span class="btn-text">Invia</span>
                        <span class="btn-loader" style="display: none;">‚è≥</span>
                    </button>
                    <p id="formMessage" class="form-message"></p>
                </form>
            </div>

            <section class="social-section">
                <p class="social-title">Seguici sui social</p>
                <div class="social-links">
                    <a href="https://instagram.com/app.spottly" target="_blank" class="social-link" aria-label="Instagram">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                        </svg>
                    </a>
                </div>
            </section>
        </main>

        <footer>
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="logo.png" alt="Logo" class="footer-logo-icon">
                    Spottly App
                </div>
                <p class="footer-copy">¬© 2025 Spottly App. Tutti i diritti riservati.</p>
            </div>
        </footer>
    </div>

    <script>
        // Form submission
        const betaForm = document.getElementById('betaForm');
        const formMessage = document.getElementById('formMessage');
        
        betaForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const device = document.querySelector('input[name="device"]:checked')?.value;
            const btnText = document.querySelector('.btn-text');
            const btnLoader = document.querySelector('.btn-loader');
            const submitBtn = betaForm.querySelector('button[type="submit"]');
            
            if (!device) {
                formMessage.textContent = '‚ö†Ô∏è Seleziona il tuo dispositivo';
                formMessage.className = 'form-message error';
                return;
            }
            
            // Loading state
            btnText.style.display = 'none';
            btnLoader.style.display = 'inline';
            submitBtn.disabled = true;
            
            try {
                await window.addDoc(window.collection(window.db, "beta_testers"), {
                    email: email,
                    device: device,
                    timestamp: new Date().toISOString()
                });
                
                formMessage.textContent = '‚úÖ Iscrizione completata! Ti contatteremo presto.';
                formMessage.className = 'form-message success';
                betaForm.reset();
            } catch (error) {
                console.error('Errore:', error);
                formMessage.textContent = '‚ùå Errore durante l\'iscrizione. Riprova.';
                formMessage.className = 'form-message error';
            }
            
            // Reset button
            btnText.style.display = 'inline';
            btnLoader.style.display = 'none';
            submitBtn.disabled = false;
        });

        // Parallax effect on orbs
        document.addEventListener('mousemove', (e) => {
            const orbs = document.querySelectorAll('.floating-orb');
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;
            
            orbs.forEach((orb, i) => {
                const speed = (i + 1) * 20;
                orb.style.transform = `translate(${x * speed}px, ${y * speed}px)`;
            });
        });
    </script>
</body>
</html>
